<!DOCTYPE html>
<html itemscope itemtype="http://schema.org/Organization">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<meta itemprop="name" content="Polymer - Custom Elements">
<meta itemprop="description" content="Polymer is a new type of library for the web, built on top of Web Components, and designed to leverage the evolving web platform on modern browsers.">


<meta itemprop="image" content="http://www.polymer-project.org/images/instacod.png">


<title>
  
    Custom Elements - 
   Polymer
</title>
<link rel="shortcut icon" href="/images/icons/loading_icon.png">
<link href="/bootstrap/css/bootstrap.min.css" rel="stylesheet">
<link href="/css/prettify/sunburst.css" rel="stylesheet">
<!-- <link href="/css/pygments/default.css" rel="stylesheet" type="text/css"> -->
<link href="/css/site.css?20131025" rel="stylesheet">



<script async>
// Prevent usage of the appspot.com URL.
try {
  if (location.hostname.match('appspot.com') &&
      location.search.substring(1).split('&').indexOf('force') == -1) {
    window.location = location.protocol + '//www.polymer-project.org' + location.pathname;
  }
} catch(e) {
  // noop
}
</script>




<!--   
  <script src="/polymer.min.js?20131025"></script>
 -->
  


</head>
<body>

<div class="navbar navbar-fixed-top">
  <div class="navbar-inner">
    <div class="container-fluid">
      <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
      </a>
      <a class="brand" href="/">Polymer</a>
      <div class="nav-collapse collapse">
        <ul class="nav">
          <li class="icon github"><a href="https://github.com/polymer/polymer"><img src="/images/icons/github.png">View on Github</a></li>
          <li class="icon bug"><a href="https://github.com/polymer/polymer/issues/new"><img src="/images/icons/bug.png">File a bug</a></li>
          <li class="icon source"><a href="https://github.com/polymer/polymer/blob/master/CONTRIBUTING.md"><img src="/images/icons/source.png">Contribute</a></li>
          <li class="icon talk"><a href="/discuss.html"><img src="/images/icons/talk.png">Discuss</a></li>
        </ul>
      </div>
    </div>
  </div>
</div>


<div class="container-fluid">
  <div class="row-fluid">
    <div class="span3">
  <div class="well well-small sidebar-nav">
    <ul class="nav nav-list">
      <li class="nav-header">Getting Started</li>
      <li><a href="/getting-the-code.html">Get the code</a></li>
      <li><a href="/getting-started.html">Getting started</a></li>
      <li><a href="/runtime-config.html">Runtime configuration</a></li>
      <li><a href="/articles/">Articles</a></li>
      
      <li class="divider"></li>
      <li class="nav-header elements">Elements</li>
      <li><a href="/docs/elements/">Polymer elements</a></li>
      <li><a href="/docs/elements/other.html">Other elements</a></li>
      <li class="nav-header core">Core runtime</li>
      <li><a href="/polymer.html">polymer.js</a></li>
      <li class="nav-header foundation">Platform technologies</li>
      <li><a href="/platform/custom-elements.html">Custom Elements</a></li>
      <li><a href="/platform/shadow-dom.html">Shadow DOM</a></li>
      <li><a href="/platform/html-imports.html">HTML Imports</a></li>
      <!-- <li class="disabled"><a href="#">Templates</a></li> -->
      <li><a href="/platform/mdv.html">MDV</a></li>
      <!-- <li><a href="/platform/mutation-observers.html" disabled>Mutation Observers</a></li> -->
      <li><a href="/platform/pointer-events.html">Pointer Events</a></li>
      <li><a href="/platform/web-animations.html">Web Animations</a></li>
      <li class="divider"></li>
      <li class="nav-header">More information</li>
      <li><a href="/tooling-strategy.html">Tools &amp; Testing</a></li>
      <li><a href="/compatibility.html">Browser Compatibility</a></li>
      <li><a href="/changelog.html">Changelog</a></li>
      <li><a href="/faq.html">FAQ</a></li>
    </ul>
  </div>
</div>

    <div class="span8" id="content-container">

      <span class="edit-on-github">
  <a href="https://github.com/Polymer/docs/edit/master/platform/custom-elements.md">Edit on Github</a>
</span>


      
      <div class="page-header">
        <h1>Custom Elements
          
            <small>polyfill</small>
          
        </h1>
      </div>
      

      
      

      <div id="content" class="
        
           
              show-permalinks 
           
        
      "><dl class="dl-horizontal">
  <dt>Implementation status</dt>
  <dd><span class="label label-success">functional</span></dd>
  <dt>Repository</dt>
  <dd><a href="https://github.com/polymer/CustomElements">github.com/polymer/CustomElements</a></dd>
  
  <dt>W3C Specification</dt>
  <dd><a href="https://dvcs.w3.org/hg/webcomponents/raw-file/tip/spec/custom/index.html">dvcs.w3.org/hg/webcomponents/raw-file/tip/spec/custom/index.html</a></dd>
  
</dl>

<hr />

<blockquote>
  <p>Enables authors to define and use new types of DOM elements in a document.</p>
</blockquote>

<h2 id="learn-the-tech">Learn the tech</h2>

<h3 id="why-custom-elements">Why Custom Elements?</h3>

<p>Custom Elements let authors define their own elements. Authors associate JavaScript code with custom tag names, and then use those custom tag names as they would any standard tag.</p>

<p>For example, after registering a special kind of button called <code>super-button</code>, use the super button just like this:</p>

<pre><code>&lt;super-button&gt;&lt;/super-button&gt;
</code></pre>

<p>Custom elements are still elements. We can create, use, manipulate, and compose them just as easily as any standard <code>&lt;div&gt;</code> or <code>&lt;span&gt;</code> today.</p>

<h3 id="basic-usage">Basic usage</h3>

<p>As with any element, custom elements can be created in JavaScript or declared.
<strong>Custom element names must always contain a dash (-).</strong></p>

<h4 id="element-registration">Element registration</h4>

<p>Before you can use a custom element, it needs to be registered using one of the following
methods. Otherwise, the browser considers it an <code>HTMLUnknownElement</code>.</p>

<h5 id="ltelementgt">&lt;element&gt;</h5>

<p>The <code>&lt;element&gt;</code> tag provides a mechanism to encapsulate HTML, CSS, and JavaScript into reusable, encapsulated components.</p>

<pre><code>&lt;element name="x-foo" constructor="XFoo"&gt;
  &lt;section&gt;
    I'm an x-foo!
  &lt;/section&gt;
  &lt;script&gt;
    // When &lt;element&gt; is in document, we might run in wrong context.
    // Only do work when this == &lt;element&gt;.
    if (this !== window) {
      var section = this.querySelector('section');

      // Has built-in 'window' protection.
      this.register({
        prototype: {
          readyCallback: function() {
            this.innerHTML = section.innerHTML;
          },
          foo: function() {
            console.log('foo() called');
          }
        }
     });
    }
  &lt;/script&gt;
&lt;/element&gt;
</code></pre>

<p>The <code>constructor</code> attribute name goes on global scope and can be used to construct the element in JavaScript.</p>

<p><strong>Extending existing elements</strong></p>

<p>Using <code>&lt;element&gt;</code>, the prototype must be a simple object, but the <code>extends</code> attribute
can be used to extend existing DOM elements. The system chains the correct prototype
based the value of this attribute.</p>

<p>Example of extending <code>button</code>:</p>

<pre><code>&lt;element name="x-foo" extends="button"&gt;
</code></pre>

<h5 id="documentregister">document.register()</h5>

<p>To register a new custom element in JavaScript, invoke <code>document.register()</code> somewhere in the page.
As before, custom elements built this way work just like standard elements.</p>

<p>Here&#8217;s the imperative version of the previous example:</p>

<pre><code>var XFooPrototype = Object.create(HTMLElement.prototype);
XFooPrototype.readyCallback = function() {
  this.textContent = "I'm an x-foo!";
};
XFooPrototype.foo = function() {
  console.log('foo() called');
};

var XFoo = document.register('x-foo', {
  prototype: XFooPrototype
});
</code></pre>

<p><strong>Note:</strong> the prototype must be chained to <code>HTMLElement.prototype</code> (i.e. <code>instanceof HTMLElement.prototype</code>).</p>

<p><strong>Extending existing elements</strong></p>

<p>If you want to inherit from a specialized form of <code>HTMLElement</code> (e.g. <code>HTMLButtonElement</code>),
declare the type using the <code>extends</code> option when calling <code>document.register()</code>:</p>

<p>Example extending <code>button</code>:</p>

<pre><code>var XFooButtonPrototype = Object.create(HTMLButtonElement.prototype);
XFooButtonPrototype.readyCallback = function() {
  this.textContent = "I'm an x-foo button!";
};

var XFooButton = document.register('x-foo-button', {
  prototype: XFooButtonPrototype,
  extends: 'button'
});
</code></pre>

<h4 id="using-a-custom-element">Using a custom element</h4>

<p>After registration, you can construct an instance of your element just like
standard DOM elements:</p>

<pre><code>&lt;x-foo&gt;&lt;/x-foo&gt;
</code></pre>

<p>If you&#8217;ve used <code>extends</code> to create a custom element that derives from an existing DOM element
(e.g. something other than <code>HTMLElement</code>), use the <code>is</code> syntax:</p>

<pre><code>&lt;button is="x-foo-button"&gt;&lt;/button&gt;
</code></pre>

<p>In the declarative and <code>document.register()</code> example above, <code>XFoo</code> was defined as the new element&#8217;s constructor.
This can also be used to create an instance:</p>

<pre><code>var xFoo = new XFoo();
document.body.appendChild(xFoo);

var xFooButton = document.createElement('button', 'x-foo-button');
xFooButton.foo(); // "foo() called"
</code></pre>

<p>Browser limitations require that we supply the constructor while you supply the <code>prototype</code>.
Use the <code>readyCallback</code> to do initialization work that might otherwise be in a constructor.</p>

<h2 id="polyfill-details">Polyfill details</h2>

<h3 id="getting-started">Getting Started</h3>

<p>Include the <code>custom-elements.js</code> or <code>custom-elements.min.js</code> (minified) file in your project.</p>

<pre><code>&lt;script src="CustomElements/custom-elements.js"&gt;&lt;/script&gt;
</code></pre>

<p><code>custom-elements.js</code> is the debug loader and uses <code>document.write</code> to load additional modules. 
Use the minified version (<code>custom-elements.min.js</code>) if you need to load the file dynamically.</p>

<h3 id="polyfill-notes">Polyfill Notes</h3>

<p>The polyfill parses <code>&lt;element&gt;</code> tags and handles element upgrades <em>asynchronously</em>. To know when the polyfill has
finished all start up tasks, listen to the <code>WebComponentsReady</code> event on <code>document</code> or <code>window</code>.</p>

<p>Example:</p>

<pre><code>&lt;script&gt;
  // hide body to prevent FOUC
  document.body.style.opacity = 0;
  window.addEventListener('WebComponentsReady', function() {
    // show body now that everything is ready
    document.body.style.opacity = 1;
  });
&lt;/script&gt;
</code></pre>

<p>The Custom Elements specification is still under discussion. The polyfill implements certain features in advance of the specification. In particular, there are several notification callback methods that are used if implemented on the element prototype.</p>

<ul>
  <li><code>readyCallback()</code> is called when a custom element is created.</li>
  <li><code>insertedCallback()</code> is called when a custom element is inserted into a DOM subtree.</li>
  <li><code>removedCallback()</code> is called when a custom element is removed from a DOM subtree.</li>
  <li><code>attributeChangedCallback(attributeName)</code> is called when a custom element&#8217;s attribute value has changed</li>
</ul>

<p><code>readyCallback</code> is invoked <em>synchronously</em> with element instantiation, the other callbacks are called <em>asyncronously</em>. The asynchronous callbacks generally use the MutationObserver timing model, which means they are called before layouts, paints, or other triggered events, so the developer need not worry about flashing content or other bad things happening before the callback has a chance to react to changes.</p>

<p>The <code>extends</code> option to <code>document.register()</code> (discussed above)  is exclusive to this polyfill.</p>

<h2 id="tools--testing">Tools &amp; Testing</h2>

<p>For running tests or building minified files, consult the <a href="http://polymer-project.org/tooling-strategy.html">tooling information</a>.</p>

</div>

      <hr>

      <footer>
        <div>
          <div>&copy; 2013 Polymer Authors.<br>Code licensed under the <a href="https://github.com/polymer/polymer/blob/master/LICENSE" target="_blank">BSD License</a>. Documentation licensed under <a href="http://creativecommons.org/licenses/by/3.0/" target="_blank">CC BY 3.0</a>.</div>
        </div>
        <div id="logo-row">
          <img src="/images/logos/webcomponents.png" alt="Web Components" title="Web Components">
          <img src="/images/logos/html5logo.svg" alt="HTML5" title="HTML5">
          <img src="/images/logos/js.jpg" alt="JavaScript" title="JavaScript">
        </div>
      </footer>

    </div>
  </div>
</div>



<script src="/js/prettify/prettify.js"></script>
<script src="/js/jquery.min.js"></script>
<script src="/bootstrap/js/bootstrap.min.js"></script>
<script>
var _gaq = _gaq || [];
_gaq.push(['_setAccount', 'UA-39334307-1']);
_gaq.push(['_trackPageview']);

(function() {
  var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
  ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
  var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
})();

function addPermalink(el) {
  el.classList.add('has-permalink');
  el.insertAdjacentHTML('beforeend',
      '<a class="permalink" title="Permalink" href="#' + el.id + '">#</a>');
}

// Change "active" style on selected left-hand navigation menu item.
$(document).ready(function () {
  var path = location.pathname;
  $('ul.nav > li > a[href="' + path + '"]').parent().addClass('active');

  // Add permalinks to heading elements.
  var permalinkEl = document.querySelector('.show-permalinks');
  if (permalinkEl) {
    ['h2','h3','h4'].forEach(function(h, i) {
      [].forEach.call(permalinkEl.querySelectorAll(h), addPermalink);
    });
  }

  // TODO: Use kramdown {:.prettyprint .linenums .lang-ruby} to add the
  // <pre class="prettyprint"> instead of doing this client-side.
  $('pre').addClass('prettyprint');
  window.prettyPrint && prettyPrint();
});
</script>

</body>
</html>
